# WMhollow(新未名树洞) Backup Project

![Language](https://img.shields.io/badge/Language-Python-blue.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)

<p align="center">
<img src="https://raw.githubusercontent.com/pkuhollow/pkuhollow/main/logo.png" alt="logo" class="center" width="100" height="100" ><br>
</p> 

## 项目简介

在我作为初学者学习Python的过程中，为了能将自己在WMhollow上的回忆进行个人备份，我编写了这个小脚本。它能够将Hollow的帖子、回复以及其中包含的图片都完整地下载到本地。

随着功能的逐步完善，它现在已经是一个【比较】可靠的备份工具，希望能对有同样需求的同学有所帮助！

## 主要功能

* **内容完整**：支持备份主树洞（包括时间、关注数、回复数）、所有回复，以及主树洞和回复中附带的全部图片。
* **运行稳定**：内置了网络请求的自动重试机制，可以应对暂时的网络波动和服务器错误，提高备份成功率。
* **断点续传**：支持保存和恢复进度。如果程序中途意外停止，下次运行时会自动从上次中断处继续，无需从头开始。
* **安全退出**：在程序运行时，可以随时按 `Ctrl+C` 中止程序。脚本会捕捉到中断信号并立即保存当前所有进度，确保数据不会丢失。
* **易于阅读**：项目包含一个 `reader.py` 脚本，可以将备份出的原始数据转换为排版好的 `.txt` 文件，尽可能还原在网页端刷树洞的阅读体验，方便日常阅读。

### 【2025年10月29日更新】
* 主备份脚本增加了“更新有新回复的老树洞”功能，会将更新后的数据（替换掉旧版本）和未变化的旧数据智能地合并在一起，间隔式备份更方便！
* 已增加`html_reader.py`脚本，解决了上一版本中reader无法实现图文阅读的问题。可将备份内容转换为更加美观、图文并茂的`.html`文件！
* `html_reader`脚本还增加了显示投票类树洞的功能，生成的`.html`文件可以显示投票选项及票数！

## 源码访问

本项目的源代码目前为私有。

原因1：工具的运行需要配置个人信息，直接公开可能会带来误用与滥用风险。

原因2：作者本人还是初学者，这份代码中可能出现错误，在相关知识上同样比较薄弱的同学可能会在使用中遇到暂时无法解决的问题。很抱歉，还在学习中的作者也无法提供足够成熟的帮助与支援。🥹

但我希望将它分享给真正有需求、并了解其工作原理的朋友，也非常欢迎有识之士为我的项目提出反馈与建议！

如需访问本项目的代码，请您创建新的Issue联系我，注明您的身份与使用目的，我会在审核后为您添加私有代码仓库的访问权限。

## 致谢

本项目的核心代码实现与调试思路，均在与Google Gemini的多次协作中完成。

非常感谢AI为我这样的编程初学者提供了如此强大、友好的学习和实践平台！

## 免责声明

* 本项目仅供个人学习和非商业性数据备份使用。
* 请尊重目标网站服务器，脚本已内置合理的延时。请勿修改代码进行恶意请求，否则后果自负。
* 用户因使用本脚本而产生的任何数据安全或法律问题，项目作者概不负责。

## 许可证

本项目遵循 [MIT License](LICENSE)。

## 友情链接

https://web.pkuhollow.com/

https://github.com/pkuhollow2/webhole
